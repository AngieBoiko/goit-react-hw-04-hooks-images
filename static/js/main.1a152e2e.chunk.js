(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{15:function(e,t,c){},39:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(4),o=c.n(r),s=(c(15),c(3)),i=c(5),u=c(1);function l(e){var t=e.onSubmit,c=Object(a.useState)(""),n=Object(s.a)(c,2),r=n[0],o=n[1];return Object(u.jsx)("header",{className:"Searchbar",children:Object(u.jsxs)("form",{className:"SearchForm",onSubmit:function(e){if(e.preventDefault(),""===r.trim())return i.b.error("Please, enter search query!");t(r),o({value:""})},children:[Object(u.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(u.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(u.jsx)("input",{onChange:function(e){o(e.currentTarget.value.toLowerCase())},className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var j=c(9);var b=function(e){var t=e.src,c=e.alt,a=e.modalSrc;return Object(u.jsx)("li",{className:"ImageGalleryItem",children:Object(u.jsx)("img",{src:t,alt:c,"data-modal":a,className:"ImageGalleryItem-image"})})};var m=function(e){var t=e.onClick;return Object(u.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})},h=document.querySelector("#modal-root");function d(e){var t=e.forImageModal,c=e.onCloseModal;Object(a.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}));var n=function(e){"Escape"===e.code&&c()};return Object(r.createPortal)(Object(u.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&c()},children:Object(u.jsx)("div",{className:"Modal",children:Object(u.jsx)("img",{src:t.src,alt:t.alt})})}),h)}var f=c(10),O=c.n(f);c(37);function g(){return Object(u.jsx)("div",{className:"Overlay",children:Object(u.jsx)(O.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})})}function p(e){var t=e.searchQuery,c=Object(a.useState)(1),n=Object(s.a)(c,2),r=n[0],o=n[1],l=Object(a.useState)(12),h=Object(s.a)(l,2),f=h[0],O=(h[1],Object(a.useState)([])),p=Object(s.a)(O,2),x=p[0],v=p[1],S=Object(a.useState)(null),y=Object(s.a)(S,2),w=(y[0],y[1]),k=Object(a.useState)(null),N=Object(s.a)(k,2),C=N[0],E=N[1],F=Object(a.useState)(!1),I=Object(s.a)(F,2),L=I[0],M=I[1],q=Object(a.useState)({}),P=Object(s.a)(q,2),T=P[0],B=P[1];Object(a.useEffect)((function(){""!==t&&(E(!0),function(e,t,c){return fetch("".concat("https://pixabay.com/api/","/?q=").concat(e,"&page=").concat(t,"&key=").concat("22428506-9ce357bec79fea58fa453e43f","&image_type=photo&orientation=horizontal&per_page=").concat(c)).then((function(e){return e.ok?e.json():Promise.reject(new Error("This request is not successful"))}))}(t,r,f).then((function(e){e.hits.length>0?v((function(t){return[].concat(Object(j.a)(t),Object(j.a)(e.hits))})):i.b.error("Enter another word for searching!")})).catch((function(e){return w({error:e})})).finally((function(){return E(!1)})),G())}),[r,t]);var G=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(u.jsxs)("div",{className:"gallery-container",children:[C&&Object(u.jsx)(g,{}),Object(u.jsx)("ul",{className:"ImageGallery",onClick:function(e){M(!0),B({src:e.target.dataset.modal,alt:e.target.alt})},children:x.map((function(e){return Object(u.jsx)(b,{src:e.webformatURL,alt:e.tags,modalSrc:e.largeImageURL},e.id)}))}),x.length>0&&Object(u.jsx)(m,{onClick:function(e){o((function(e){return e+1}))}}),L&&Object(u.jsx)(d,{forImageModal:T,onCloseModal:function(){M((function(e){return!e}))}})]})}c(38);function x(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),c=t[0],n=t[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l,{onSubmit:function(e){n(e)}}),Object(u.jsx)(p,{searchQuery:c}),Object(u.jsx)(i.a,{})]})}o.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(x,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.1a152e2e.chunk.js.map